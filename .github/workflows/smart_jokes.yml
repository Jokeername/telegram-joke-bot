name: Smart Joke Bot - No Repeats

on:
  schedule:
    - cron: '0 7 * * *'   # –£—Ç—Ä–æ 07:00 UTC (10:00 –ø–æ –ú–æ—Å–∫–≤–µ)
    - cron: '0 18 * * *'  # –í–µ—á–µ—Ä 18:00 UTC (21:00 –ø–æ –ú–æ—Å–∫–≤–µ)
  workflow_dispatch:

jobs:
  send-unique-message:
    runs-on: ubuntu-latest
    steps:
    - name: Send unique message
      run: |
        # –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ —á–∞—Ç–∞
        BOT_TOKEN="8219894042:AAG1PJrwW22WpIvaW9pr69rLkQ4wTpa40Qg"
        CHAT_ID="1810598168"
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è UTC
        CURRENT_HOUR=$(date -u +%H)
        CURRENT_DAY=$(date -u +%d)
        echo "üïê Current UTC: $CURRENT_HOUR:00, day: $CURRENT_DAY"
        
        # –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —à—É—Ç–æ–∫ –∏ –∞–Ω–µ–∫–¥–æ—Ç–æ–≤
        ALL_MORNING_JOKES=(
          "üåû –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –£—á–µ–Ω—ã–µ –¥–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ —Ç–µ, –∫—Ç–æ —Ä–∞–Ω–æ –≤—Å—Ç–∞–µ—Ç, –∂–∏–≤—É—Ç –¥–æ–ª—å—à–µ. –í–∏–¥–∏–º–æ, –æ—Ç —Å–∫—É–∫–∏."
          "üåû –£—Ç—Ä–æ! –°–∞–º—ã–π –ø–æ–ª–µ–∑–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫ - —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —É—Å–ø–µ–ª —Å—ä–µ—Å—Ç—å –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–ø–æ–∑–¥–∞–ª –Ω–∞ —Ä–∞–±–æ—Ç—É."
          "üåû –° –¥–æ–±—Ä—ã–º —É—Ç—Ä–æ–º! –£—Ç—Ä–æ - —ç—Ç–æ –ø—Ä–∏—Ä–æ–¥–∞ —Å–ø–æ—Å–æ–± —Å–∫–∞–∑–∞—Ç—å: '–ü—Ä–æ—Å–Ω–∏—Å—å –∏ –ø–æ–π, —á—Ç–æ –æ–ø—è—Ç—å –ø—Ä–æ—Å–ø–∞–ª!'"
          "üåû –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, —á–µ–º–ø–∏–æ–Ω! –ë–µ–≥ –ø–æ —É—Ç—Ä–∞–º –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è. –û—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —É–±–µ–≥–∞–µ—à—å –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏."
          "üåû –£—Ç—Ä–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞! –§–∏—Ç–Ω–µ—Å - —ç—Ç–æ –∫–æ–≥–¥–∞ –ø–ª–∞—Ç–∏—à—å –¥–µ–Ω—å–≥–∏, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –±–æ–ª–µ–ª–æ –≤—Å–µ —Ç–µ–ª–æ."
          "üåû –° –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ–º! –ô–æ–≥–∞ - —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ –∑–∞–≤—è–∑—ã–≤–∞—Ç—å—Å—è –≤ —É–∑–µ–ª –∏ –¥—É–º–∞—Ç—å –æ –≤–µ—á–Ω–æ–º."
          "üåû –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –§–∏–∑–∏–∫–∏ —à—É—Ç—è—Ç: '–ü–æ—á–µ–º—É —ç–ª–µ–∫—Ç—Ä–æ–Ω –Ω–µ –ø–∞–¥–∞–µ—Ç –Ω–∞ —è–¥—Ä–æ? –ü–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ —Å–≤–æ—è –æ—Ä–±–∏—Ç–∞–ª—å–Ω–∞—è –∂–∏–∑–Ω—å!'"
          "üåû –£—Ç—Ä–æ –Ω–∞—É–∫–∏! –•–∏–º–∏–∫ - —ç—Ç–æ —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Å—Ç–∞–∫–∞–Ω –∏ –¥—É–º–∞–µ—Ç: '–ù–∞–ø–æ–ª–æ–≤–∏–Ω—É –ø–æ–ª–æ–Ω –∏–ª–∏ –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –ø—É—Å—Ç? –ê –∫–∞–∫–æ–π pH?'"
          "üåû –° –¥–æ–±—Ä—ã–º —É—Ç—Ä–æ–º! –ú–∞—Ç–µ–º–∞—Ç–∏–∫ - —ç—Ç–æ —Ç–æ—Ç, –∫—Ç–æ —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –∫–æ—Ñ–µ–∏–Ω –∏ —Å–æ–Ω - –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–µ–ª–∏—á–∏–Ω—ã."
          "üåû –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –í—Ä–∞—á –ø–∞—Ü–∏–µ–Ω—Ç—É: '–í–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ —Å–ø–∞—Ç—å'. –ü–∞—Ü–∏–µ–Ω—Ç: '–ê –∫–æ–≥–¥–∞, –µ—Å–ª–∏ —è –Ω–∞ –¥–≤—É—Ö —Ä–∞–±–æ—Ç–∞—Ö?'"
          "üåû –£—Ç—Ä–æ –∑–¥–æ—Ä–æ–≤—å—è! –ò–¥–µ–∞–ª—å–Ω–æ–µ —É—Ç—Ä–æ: –ø—Ä–æ—Å–Ω—É—Ç—å—Å—è –±–µ–∑ –±—É–¥–∏–ª—å–Ω–∏–∫–∞ –∏ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Å–µ–≥–æ–¥–Ω—è –≤—ã—Ö–æ–¥–Ω–æ–π —É –≤—Ä–∞—á–∞."
          "üåû –° –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ–º! –ú–µ–¥–∏–∫–∏ –¥–æ–∫–∞–∑–∞–ª–∏: 5 –º–∏–Ω—É—Ç —Å–Ω–∞ '–µ—â–µ –Ω–µ–º–Ω–æ–≥–æ' —Ä–∞–≤–Ω—ã 2 —á–∞—Å–∞–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞."
        )
        
        ALL_EVENING_ANECDOTES=(
          "üåú –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏! –ú—É–∂ –∂–µ–Ω–µ: '–î–æ—Ä–æ–≥–∞—è, —è —Å–µ–≥–æ–¥–Ω—è —Ç–∞–∫–æ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã–π!' –ñ–µ–Ω–∞: '–ò —á—Ç–æ —Å–¥–µ–ª–∞–ª?' - '–°–æ—Å—Ç–∞–≤–∏–ª –ø–ª–∞–Ω –Ω–∞ –∑–∞–≤—Ç—Ä–∞!'"
          "üåú –î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä! –ñ–∏–∑–Ω—å - –∫–∞–∫ –≤–µ–ª–æ—Å–∏–ø–µ–¥: —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, –Ω—É–∂–Ω–æ –¥–≤–∏–≥–∞—Ç—å—Å—è. –ò –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –Ω–µ –≤ –≥–æ—Ä—É."
          "üåú –í–µ—á–µ—Ä–Ω–∏–π —Ä–µ–ª–∞–∫—Å: –°–∞–º—ã–π —Ç–æ—á–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã - —ç—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–æ –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º –∏–∑ –¥–æ–º–∞."
          "üåú –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏! –§—É—Ç–±–æ–ª–∏—Å—Ç –ø–æ—Å–ª–µ –º–∞—Ç—á–∞: '–Ø –±–µ–≥–∞–ª 90 –º–∏–Ω—É—Ç, —Å–¥–µ–ª–∞–ª 10 –∫–º!' –í—Ä–∞—Ç–∞—Ä—å: '–ê —è —Å—Ç–æ—è–ª –Ω–∞ –º–µ—Å—Ç–µ –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª —Å—Ç–æ–ª—å–∫–æ –∂–µ!'"
          "üåú –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –≤–µ—á–µ—Ä! –¢—Ä–µ–Ω–µ—Ä –∫–æ–º–∞–Ω–¥–µ: '–ó–∞–ø–æ–º–Ω–∏—Ç–µ: –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –≤—ã –∏–≥—Ä–∞–µ—Ç–µ, –≤–∞–∂–Ω–æ, –≤ –∫–∞–∫–æ–π —Ñ–æ—Ä–º–µ –≤—ã–≥–ª—è–¥–∏—Ç–µ!'"
          "üåú –ù–∞ –Ω–æ—á—å: –®–∞—Ö–º–∞—Ç–∏—Å—Ç –ø—Ä–æ–∏–≥—Ä–∞–ª –ø–∞—Ä—Ç–∏—é –∏ –≥–æ–≤–æ—Ä–∏—Ç: '–Ø –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–µ–ª –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —ç—Ç–æ—Ç –¥–µ–±—é—Ç'"
          "üåú –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏! –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä —Å—Ç—É–¥–µ–Ω—Ç—É: '–í–∞—à–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ!' –°—Ç—É–¥–µ–Ω—Ç: '–ü—Ä–∞–≤–¥–∞?' - '–î–∞, –æ–Ω–æ –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∑–∞–∫–æ–Ω—ã —Ñ–∏–∑–∏–∫–∏'"
          "üåú –ù–∞—É—á–Ω—ã–π –≤–µ—á–µ—Ä! –£—á–µ–Ω—ã–µ –∏–∑–æ–±—Ä–µ–ª–∏ –º–∞—à–∏–Ω—É –≤—Ä–µ–º–µ–Ω–∏, –Ω–æ –æ–Ω–∞ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–º–µ—â–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –±—É–¥—É—â–µ–µ. –°–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é 1 —Å–µ–∫—É–Ω–¥–∞ –≤ —Å–µ–∫—É–Ω–¥—É."
          "üåú –ù–∞ –Ω–æ—á—å: –ú–∞—Ç–µ–º–∞—Ç–∏–∫ –æ –±—Ä–∞–∫–µ: '–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ, –≥–¥–µ 1+1=1'"
          "üåú –°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏! –í—Ä–∞—á –ø–∞—Ü–∏–µ–Ω—Ç—É: '–í–∞–º –Ω—É–∂–Ω–æ –º–µ–Ω—å—à–µ —Ä–∞–±–æ—Ç–∞—Ç—å'. –ü–∞—Ü–∏–µ–Ω—Ç: '–ê –Ω–∞ —á—Ç–æ –∂–∏—Ç—å?' –í—Ä–∞—á: '–ù–∞ –ø–µ–Ω—Å–∏—é –ø–æ –∏–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏'"
          "üåú –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –≤–µ—á–µ—Ä! –ü–∞—Ü–∏–µ–Ω—Ç: '–î–æ–∫—Ç–æ—Ä, —è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —á—É–≤—Å—Ç–≤—É—é —É—Å—Ç–∞–ª–æ—Å—Ç—å'. –î–æ–∫—Ç–æ—Ä: '–≠—Ç–æ —Å–∏–Ω–¥—Ä–æ–º –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞. –õ–µ—á–∏—Ç—Å—è —Å—É–±–±–æ—Ç–æ–π –∏ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ–º'"
          "üåú –ù–∞ –Ω–æ—á—å: –õ—É—á—à–µ–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ –æ—Ç –±–µ—Å—Å–æ–Ω–Ω–∏—Ü—ã - —ç—Ç–æ —Ö–æ—Ä–æ—à–∏–π —Å–æ–Ω."
        )
        
        # –í—ã–±–∏—Ä–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏
        if [ $CURRENT_HOUR -eq 7 ]; then
          MESSAGE_LIST=("${ALL_MORNING_JOKES[@]}")
          MESSAGE_TYPE="—É—Ç—Ä–µ–Ω–Ω—è—è —à—É—Ç–∫–∞"
          # –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ –∫–∞–∫ –∏–Ω–¥–µ–∫—Å –¥–ª—è —É—Ç—Ä–µ–Ω–Ω–∏—Ö —à—É—Ç–æ–∫
          INDEX=$((CURRENT_DAY % ${#MESSAGE_LIST[@]}))
        else
          MESSAGE_LIST=("${ALL_EVENING_ANECDOTES[@]}")
          MESSAGE_TYPE="–≤–µ—á–µ—Ä–Ω–∏–π –∞–Ω–µ–∫–¥–æ—Ç"
          # –ò—Å–ø–æ–ª—å–∑—É–µ–º (–¥–µ–Ω—å + —Å–º–µ—â–µ–Ω–∏–µ) –¥–ª—è –≤–µ—á–µ—Ä–Ω–∏—Ö –∞–Ω–µ–∫–¥–æ—Ç–æ–≤
          INDEX=$(((CURRENT_DAY + 10) % ${#MESSAGE_LIST[@]}))
        fi
        
        # –í—ã–±–∏—Ä–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        SELECTED_MESSAGE=${MESSAGE_LIST[$INDEX]}
        
        echo "üéØ Selected $MESSAGE_TYPE #$INDEX: $SELECTED_MESSAGE"
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        curl -s -X POST "https://api.telegram.org/bot$BOT_TOKEN/sendMessage" \
          -d chat_id="$CHAT_ID" \
          -d text="$SELECTED_MESSAGE"
        
        echo "‚úÖ $MESSAGE_TYPE sent successfully!"
        echo "üìä Statistics: Day $CURRENT_DAY, Index $INDEX, Total messages: ${#MESSAGE_LIST[@]}"
