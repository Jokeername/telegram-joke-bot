name: Smart Joke Bot - No Repeats

on:
  schedule:
    - cron: '0 7 * * *'   # Ð£Ñ‚Ñ€Ð¾ 07:00 UTC (10:00 Ð¿Ð¾ ÐœÐ¾ÑÐºÐ²Ðµ)
    - cron: '0 18 * * *'  # Ð’ÐµÑ‡ÐµÑ€ 18:00 UTC (21:00 Ð¿Ð¾ ÐœÐ¾ÑÐºÐ²Ðµ)
  workflow_dispatch:

jobs:
  send-unique-message:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Send unique message
      run: |
        # Ð¢Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð° Ð¸ Ñ‡Ð°Ñ‚Ð°
        BOT_TOKEN="8219894042:AAG1PJrwW22WpIvaW9pr69rLkQ4wTpa40Qg"
        CHAT_ID="1810598168"
        
        # ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ UTC
        CURRENT_HOUR=$(date -u +%H)
        echo "ðŸ• Current UTC hour: $CURRENT_HOUR"
        
        # ÐŸÐ¾Ð»Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… ÑˆÑƒÑ‚Ð¾Ðº Ð¸ Ð°Ð½ÐµÐºÐ´Ð¾Ñ‚Ð¾Ð²
        ALL_MORNING_JOKES=(
          "ðŸŒž Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾! Ð£Ñ‡ÐµÐ½Ñ‹Ðµ Ð´Ð¾ÐºÐ°Ð·Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ñ‚Ðµ, ÐºÑ‚Ð¾ Ñ€Ð°Ð½Ð¾ Ð²ÑÑ‚Ð°ÐµÑ‚, Ð¶Ð¸Ð²ÑƒÑ‚ Ð´Ð¾Ð»ÑŒÑˆÐµ. Ð’Ð¸Ð´Ð¸Ð¼Ð¾, Ð¾Ñ‚ ÑÐºÑƒÐºÐ¸."
          "ðŸŒž Ð£Ñ‚Ñ€Ð¾! Ð¡Ð°Ð¼Ñ‹Ð¹ Ð¿Ð¾Ð»ÐµÐ·Ð½Ñ‹Ð¹ Ð·Ð°Ð²Ñ‚Ñ€Ð°Ðº - Ñ‚Ð¾Ñ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑƒÑÐ¿ÐµÐ» ÑÑŠÐµÑÑ‚ÑŒ Ð´Ð¾ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð¾Ð¿Ð¾Ð·Ð´Ð°Ð» Ð½Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ."
          "ðŸŒž Ð¡ Ð´Ð¾Ð±Ñ€Ñ‹Ð¼ ÑƒÑ‚Ñ€Ð¾Ð¼! Ð£Ñ‚Ñ€Ð¾ - ÑÑ‚Ð¾ Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ð° ÑÐ¿Ð¾ÑÐ¾Ð± ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ: 'ÐŸÑ€Ð¾ÑÐ½Ð¸ÑÑŒ Ð¸ Ð¿Ð¾Ð¹, Ñ‡Ñ‚Ð¾ Ð¾Ð¿ÑÑ‚ÑŒ Ð¿Ñ€Ð¾ÑÐ¿Ð°Ð»!'"
          "ðŸŒž Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾, Ñ‡ÐµÐ¼Ð¿Ð¸Ð¾Ð½! Ð‘ÐµÐ³ Ð¿Ð¾ ÑƒÑ‚Ñ€Ð°Ð¼ Ð¿Ð¾Ð»ÐµÐ·ÐµÐ½ Ð´Ð»Ñ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ. ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ ÐµÑÐ»Ð¸ ÑƒÐ±ÐµÐ³Ð°ÐµÑˆÑŒ Ð¾Ñ‚ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."
          "ðŸŒž Ð£Ñ‚Ñ€Ð¾ ÑÐ¿Ð¾Ñ€Ñ‚ÑÐ¼ÐµÐ½Ð°! Ð¤Ð¸Ñ‚Ð½ÐµÑ - ÑÑ‚Ð¾ ÐºÐ¾Ð³Ð´Ð° Ð¿Ð»Ð°Ñ‚Ð¸ÑˆÑŒ Ð´ÐµÐ½ÑŒÐ³Ð¸, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð±Ð¾Ð»ÐµÐ»Ð¾ Ð²ÑÐµ Ñ‚ÐµÐ»Ð¾."
          "ðŸŒž Ð¡ Ð¿Ñ€Ð¾Ð±ÑƒÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼! Ð™Ð¾Ð³Ð° - ÑÑ‚Ð¾ Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð¾ Ð·Ð°Ð²ÑÐ·Ñ‹Ð²Ð°Ñ‚ÑŒÑÑ Ð² ÑƒÐ·ÐµÐ» Ð¸ Ð´ÑƒÐ¼Ð°Ñ‚ÑŒ Ð¾ Ð²ÐµÑ‡Ð½Ð¾Ð¼."
          "ðŸŒž Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾! Ð¤Ð¸Ð·Ð¸ÐºÐ¸ ÑˆÑƒÑ‚ÑÑ‚: 'ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½ Ð½Ðµ Ð¿Ð°Ð´Ð°ÐµÑ‚ Ð½Ð° ÑÐ´Ñ€Ð¾? ÐŸÐ¾Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ñ‚Ð¾ Ñƒ Ð½ÐµÐ³Ð¾ ÑÐ²Ð¾Ñ Ð¾Ñ€Ð±Ð¸Ñ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð¶Ð¸Ð·Ð½ÑŒ!'"
          "ðŸŒž Ð£Ñ‚Ñ€Ð¾ Ð½Ð°ÑƒÐºÐ¸! Ð¥Ð¸Ð¼Ð¸Ðº - ÑÑ‚Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚ Ð½Ð° ÑÑ‚Ð°ÐºÐ°Ð½ Ð¸ Ð´ÑƒÐ¼Ð°ÐµÑ‚: 'ÐÐ°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ Ð¿Ð¾Ð»Ð¾Ð½ Ð¸Ð»Ð¸ Ð½Ð°Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñƒ Ð¿ÑƒÑÑ‚? Ð ÐºÐ°ÐºÐ¾Ð¹ pH?'"
          "ðŸŒž Ð¡ Ð´Ð¾Ð±Ñ€Ñ‹Ð¼ ÑƒÑ‚Ñ€Ð¾Ð¼! ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ðº - ÑÑ‚Ð¾ Ñ‚Ð¾Ñ‚, ÐºÑ‚Ð¾ ÑÑ‡Ð¸Ñ‚Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ ÐºÐ¾Ñ„ÐµÐ¸Ð½ Ð¸ ÑÐ¾Ð½ - Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹."
          "ðŸŒž Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾! Ð’Ñ€Ð°Ñ‡ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ñƒ: 'Ð’Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ ÑÐ¿Ð°Ñ‚ÑŒ'. ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚: 'Ð ÐºÐ¾Ð³Ð´Ð°, ÐµÑÐ»Ð¸ Ñ Ð½Ð° Ð´Ð²ÑƒÑ… Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ…?'"
          "ðŸŒž Ð£Ñ‚Ñ€Ð¾ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ! Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾: Ð¿Ñ€Ð¾ÑÐ½ÑƒÑ‚ÑŒÑÑ Ð±ÐµÐ· Ð±ÑƒÐ´Ð¸Ð»ÑŒÐ½Ð¸ÐºÐ° Ð¸ Ð¿Ð¾Ð½ÑÑ‚ÑŒ, Ñ‡Ñ‚Ð¾ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð¹ Ñƒ Ð²Ñ€Ð°Ñ‡Ð°."
          "ðŸŒž Ð¡ Ð¿Ñ€Ð¾Ð±ÑƒÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼! ÐœÐµÐ´Ð¸ÐºÐ¸ Ð´Ð¾ÐºÐ°Ð·Ð°Ð»Ð¸: 5 Ð¼Ð¸Ð½ÑƒÑ‚ ÑÐ½Ð° 'ÐµÑ‰Ðµ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾' Ñ€Ð°Ð²Ð½Ñ‹ 2 Ñ‡Ð°ÑÐ°Ð¼ Ð¿Ð¾Ð»Ð½Ð¾Ñ†ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°."
          "ðŸŒž Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾, ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚! Ð¡ÐµÑÑÐ¸Ñ Ð±Ð»Ð¸Ð·ÐºÐ¾, Ð° Ð·Ð½Ð°Ð½Ð¸Ñ Ð´Ð°Ð»ÐµÐºÐ¾. ÐšÐ°Ðº Ð¿Ð»Ð°Ð½ÐµÑ‚Ñ‹ Ð² Ð¡Ð¾Ð»Ð½ÐµÑ‡Ð½Ð¾Ð¹ ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ."
          "ðŸŒž Ð£Ñ‚Ñ€Ð¾ Ð² ÑƒÐ½Ð¸Ð²ÐµÑ€Ðµ! Ð¡Ñ‚ÑƒÐ´ÐµÐ½Ñ‚ - ÑÑ‚Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²ÐµÑ€Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð·Ð° Ð½Ð¾Ñ‡ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ‹ÑƒÑ‡Ð¸Ñ‚ÑŒ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð½Ðµ ÑƒÑ‡Ð¸Ð» Ð²ÐµÑÑŒ ÑÐµÐ¼ÐµÑÑ‚Ñ€."
          "ðŸŒž Ð¡ Ð´Ð¾Ð±Ñ€Ñ‹Ð¼ ÑƒÑ‚Ñ€Ð¾Ð¼! Ð›ÐµÐºÑ†Ð¸Ñ - ÑÑ‚Ð¾ ÐºÐ¾Ð³Ð´Ð° Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚, Ð° ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÑŽÑ‚ Ð²Ð¸Ð´, Ñ‡Ñ‚Ð¾ ÑÐ»ÑƒÑˆÐ°ÑŽÑ‚."
        )
        
        ALL_EVENING_ANECDOTES=(
          "ðŸŒœ Ð¡Ð¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾Ð¹ Ð½Ð¾Ñ‡Ð¸! ÐœÑƒÐ¶ Ð¶ÐµÐ½Ðµ: 'Ð”Ð¾Ñ€Ð¾Ð³Ð°Ñ, Ñ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ð°ÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹!' Ð–ÐµÐ½Ð°: 'Ð˜ Ñ‡Ñ‚Ð¾ ÑÐ´ÐµÐ»Ð°Ð»?' - 'Ð¡Ð¾ÑÑ‚Ð°Ð²Ð¸Ð» Ð¿Ð»Ð°Ð½ Ð½Ð° Ð·Ð°Ð²Ñ‚Ñ€Ð°!'"
          "ðŸŒœ Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð²ÐµÑ‡ÐµÑ€! Ð–Ð¸Ð·Ð½ÑŒ - ÐºÐ°Ðº Ð²ÐµÐ»Ð¾ÑÐ¸Ð¿ÐµÐ´: Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒ Ñ€Ð°Ð²Ð½Ð¾Ð²ÐµÑÐ¸Ðµ, Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ð²Ð¸Ð³Ð°Ñ‚ÑŒÑÑ. Ð˜ Ð¶ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð½Ðµ Ð² Ð³Ð¾Ñ€Ñƒ."
          "ðŸŒœ Ð’ÐµÑ‡ÐµÑ€Ð½Ð¸Ð¹ Ñ€ÐµÐ»Ð°ÐºÑ: Ð¡Ð°Ð¼Ñ‹Ð¹ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð³Ð½Ð¾Ð· Ð¿Ð¾Ð³Ð¾Ð´Ñ‹ - ÑÑ‚Ð¾ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Ð¾ÐºÐ½Ð¾ Ð¿ÐµÑ€ÐµÐ´ Ð²Ñ‹Ñ…Ð¾Ð´Ð¾Ð¼ Ð¸Ð· Ð´Ð¾Ð¼Ð°."
          "ðŸŒœ Ð¡Ð¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾Ð¹ Ð½Ð¾Ñ‡Ð¸! Ð¤ÑƒÑ‚Ð±Ð¾Ð»Ð¸ÑÑ‚ Ð¿Ð¾ÑÐ»Ðµ Ð¼Ð°Ñ‚Ñ‡Ð°: 'Ð¯ Ð±ÐµÐ³Ð°Ð» 90 Ð¼Ð¸Ð½ÑƒÑ‚, ÑÐ´ÐµÐ»Ð°Ð» 10 ÐºÐ¼!' Ð’Ñ€Ð°Ñ‚Ð°Ñ€ÑŒ: 'Ð Ñ ÑÑ‚Ð¾ÑÐ» Ð½Ð° Ð¼ÐµÑÑ‚Ðµ Ð¸ Ð·Ð°Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ð» ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¶Ðµ!'"
          "ðŸŒœ Ð¡Ð¿Ð¾Ñ€Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð²ÐµÑ‡ÐµÑ€! Ð¢Ñ€ÐµÐ½ÐµÑ€ ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ: 'Ð—Ð°Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚Ðµ: Ð½Ðµ Ð²Ð°Ð¶Ð½Ð¾, ÐºÐ°Ðº Ð²Ñ‹ Ð¸Ð³Ñ€Ð°ÐµÑ‚Ðµ, Ð²Ð°Ð¶Ð½Ð¾, Ð² ÐºÐ°ÐºÐ¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ðµ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸Ñ‚Ðµ!'"
          "ðŸŒœ ÐÐ° Ð½Ð¾Ñ‡ÑŒ: Ð¨Ð°Ñ…Ð¼Ð°Ñ‚Ð¸ÑÑ‚ Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ð°Ð» Ð¿Ð°Ñ€Ñ‚Ð¸ÑŽ Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚: 'Ð¯ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ…Ð¾Ñ‚ÐµÐ» Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð»Ð¸ ÑÑ‚Ð¾Ñ‚ Ð´ÐµÐ±ÑŽÑ‚'"
          "ðŸŒœ Ð¡Ð¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾Ð¹ Ð½Ð¾Ñ‡Ð¸! ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¾Ñ€ ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ñƒ: 'Ð’Ð°ÑˆÐµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ²Ð¾Ð»ÑŽÑ†Ð¸Ð¾Ð½Ð½Ð¾!' Ð¡Ñ‚ÑƒÐ´ÐµÐ½Ñ‚: 'ÐŸÑ€Ð°Ð²Ð´Ð°?' - 'Ð”Ð°, Ð¾Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ²Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ Ð²ÑÐµ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð·Ð°ÐºÐ¾Ð½Ñ‹ Ñ„Ð¸Ð·Ð¸ÐºÐ¸'"
          "ðŸŒœ ÐÐ°ÑƒÑ‡Ð½Ñ‹Ð¹ Ð²ÐµÑ‡ÐµÑ€! Ð£Ñ‡ÐµÐ½Ñ‹Ðµ Ð¸Ð·Ð¾Ð±Ñ€ÐµÐ»Ð¸ Ð¼Ð°ÑˆÐ¸Ð½Ñƒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸, Ð½Ð¾ Ð¾Ð½Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ. Ð¡Ð¾ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒÑŽ 1 ÑÐµÐºÑƒÐ½Ð´Ð° Ð² ÑÐµÐºÑƒÐ½Ð´Ñƒ."
          "ðŸŒœ ÐÐ° Ð½Ð¾Ñ‡ÑŒ: ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ðº Ð¾ Ð±Ñ€Ð°ÐºÐµ: 'Ð­Ñ‚Ð¾ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ðµ ÑƒÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ, Ð³Ð´Ðµ 1+1=1'"
          "ðŸŒœ Ð¡Ð¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾Ð¹ Ð½Ð¾Ñ‡Ð¸! Ð’Ñ€Ð°Ñ‡ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ñƒ: 'Ð’Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾ Ð¼ÐµÐ½ÑŒÑˆÐµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ'. ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚: 'Ð Ð½Ð° Ñ‡Ñ‚Ð¾ Ð¶Ð¸Ñ‚ÑŒ?' Ð’Ñ€Ð°Ñ‡: 'ÐÐ° Ð¿ÐµÐ½ÑÐ¸ÑŽ Ð¿Ð¾ Ð¸Ð½Ð²Ð°Ð»Ð¸Ð´Ð½Ð¾ÑÑ‚Ð¸'"
          "ðŸŒœ ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ð¹ Ð²ÐµÑ‡ÐµÑ€! ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚: 'Ð”Ð¾ÐºÑ‚Ð¾Ñ€, Ñ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑƒÑÑ‚Ð°Ð»Ð¾ÑÑ‚ÑŒ'. Ð”Ð¾ÐºÑ‚Ð¾Ñ€: 'Ð­Ñ‚Ð¾ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸ÐºÐ°. Ð›ÐµÑ‡Ð¸Ñ‚ÑÑ ÑÑƒÐ±Ð±Ð¾Ñ‚Ð¾Ð¹ Ð¸ Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµÐ¼'"
          "ðŸŒœ ÐÐ° Ð½Ð¾Ñ‡ÑŒ: Ð›ÑƒÑ‡ÑˆÐµÐµ Ð»ÐµÐºÐ°Ñ€ÑÑ‚Ð²Ð¾ Ð¾Ñ‚ Ð±ÐµÑÑÐ¾Ð½Ð½Ð¸Ñ†Ñ‹ - ÑÑ‚Ð¾ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ ÑÐ¾Ð½."
          "ðŸŒœ Ð¡Ð¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾Ð¹ Ð½Ð¾Ñ‡Ð¸! Ð£Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒ: 'Ð’Ð¾Ð²Ð¾Ñ‡ÐºÐ°, Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ Ñ‚Ñ‹ Ð½Ðµ ÑÐ´ÐµÐ»Ð°Ð» Ð´Ð¾Ð¼Ð°ÑˆÐ½ÐµÐµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ?' Ð’Ð¾Ð²Ð¾Ñ‡ÐºÐ°: 'Ð Ñ ÐµÐ³Ð¾ Ð² Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ðµ Ð¸ÑÐºÐ°Ð», Ð½Ð¾ Ñ‚Ð°Ð¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹'"
          "ðŸŒœ Ð¨ÐºÐ¾Ð»ÑŒÐ½Ñ‹Ð¹ Ð²ÐµÑ‡ÐµÑ€! Ð Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ðµ ÑÐ¾Ð±Ñ€Ð°Ð½Ð¸Ðµ - ÑÑ‚Ð¾ ÐºÐ¾Ð³Ð´Ð° ÑƒÑ‡Ð¸Ñ‚ÐµÐ»ÑŒ Ð¾Ð±ÑŠÑÑÐ½ÑÐµÑ‚ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑÐ¼, Ñ‡Ñ‚Ð¾ Ð¸Ñ… Ð´ÐµÑ‚Ð¸ Ñ‚Ð°ÐºÐ¸Ðµ Ð¶Ðµ, ÐºÐ°Ðº Ð¾Ð½Ð¸ Ð² Ð´ÐµÑ‚ÑÑ‚Ð²Ðµ."
          "ðŸŒœ ÐÐ° Ð½Ð¾Ñ‡ÑŒ: Ð¨ÐºÐ¾Ð»Ð° Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ Ðº Ð¶Ð¸Ð·Ð½Ð¸. ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ðº Ñ‚Ð¾Ð¹ ÐµÐµ Ñ‡Ð°ÑÑ‚Ð¸, ÐºÐ¾Ð³Ð´Ð° Ð½ÑƒÐ¶Ð½Ð¾ Ñ€Ð°Ð½Ð¾ Ð²ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒ."
        )
        
        # Ð§Ð¸Ñ‚Ð°ÐµÐ¼ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
        if [ -f "sent_messages.txt" ]; then
          SENT_MESSAGES=$(cat sent_messages.txt)
          echo "ðŸ“– Found sent messages history"
        else
          SENT_MESSAGES=""
          echo "ðŸ“ No history found, creating new"
        fi
        
        # Ð’Ñ‹Ð±Ð¸Ñ€Ð°ÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
        if [ $CURRENT_HOUR -eq 7 ]; then
          MESSAGE_LIST=("${ALL_MORNING_JOKES[@]}")
          MESSAGE_TYPE="ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ ÑˆÑƒÑ‚ÐºÐ°"
        else
          MESSAGE_LIST=("${ALL_EVENING_ANECDOTES[@]}")
          MESSAGE_TYPE="Ð²ÐµÑ‡ÐµÑ€Ð½Ð¸Ð¹ Ð°Ð½ÐµÐºÐ´Ð¾Ñ‚"
        fi
        
        # Ð˜Ñ‰ÐµÐ¼ Ð½ÐµÐ¿Ð¾ÑÐ»Ð°Ð½Ð½Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
        SELECTED_MESSAGE=""
        ATTEMPTS=0
        MAX_ATTEMPTS=50
        
        while [ -z "$SELECTED_MESSAGE" ] && [ $ATTEMPTS -lt $MAX_ATTEMPTS ]; do
          RANDOM_INDEX=$((RANDOM % ${#MESSAGE_LIST[@]}))
          CANDIDATE_MESSAGE=${MESSAGE_LIST[$RANDOM_INDEX]}
          
          # ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ð½Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ»Ð¸ Ð»Ð¸ ÑƒÐ¶Ðµ ÑÑ‚Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
          if ! echo "$SENT_MESSAGES" | grep -q "$CANDIDATE_MESSAGE"; then
            SELECTED_MESSAGE="$CANDIDATE_MESSAGE"
            echo "âœ… Found unsent message: $SELECTED_MESSAGE"
          else
            echo "ðŸ”„ Message already sent, trying another..."
            ((ATTEMPTS++))
          fi
        done
        
        # Ð•ÑÐ»Ð¸ Ð²ÑÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ ÑƒÐ¶Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ñ‹ - Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÐ¼ ÑÐ½Ð°Ñ‡Ð°Ð»Ð°
        if [ -z "$SELECTED_MESSAGE" ]; then
          SELECTED_MESSAGE=${MESSAGE_LIST[$RANDOM % ${#MESSAGE_LIST[@]}]}
          echo "ðŸ”„ All messages sent, starting over: $SELECTED_MESSAGE"
          # ÐžÑ‡Ð¸Ñ‰Ð°ÐµÐ¼ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ñ‚Ð¸Ð¿Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
          if [ $CURRENT_HOUR -eq 7 ]; then
            SENT_MESSAGES=$(echo "$SENT_MESSAGES" | grep -v "ðŸŒž" || true)
          else
            SENT_MESSAGES=$(echo "$SENT_MESSAGES" | grep -v "ðŸŒœ" || true)
          fi
        fi
        
        # ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ
        echo "ðŸ“¨ Sending $MESSAGE_TYPE: $SELECTED_MESSAGE"
        curl -s -X POST "https://api.telegram.org/bot$BOT_TOKEN/sendMessage" \
          -d chat_id="$CHAT_ID" \
          -d text="$SELECTED_MESSAGE"
        
        # Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð² Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ
        echo "$SELECTED_MESSAGE" >> sent_messages.txt
        echo "ðŸ’¾ Saved to history: $SELECTED_MESSAGE"
        
        echo "âœ… $MESSAGE_TYPE sent successfully!"
